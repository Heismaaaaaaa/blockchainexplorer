function etherSearchBundleInit({id:e,isMainPanel:t=!0,classResultWrapper:s,groupIncludes:a=[],attributes:n}){if(null===document.getElementById(e))return;let r=document.getElementById(e),l=document.getElementById(e).closest(".search-panel-container"),d=l.querySelector(".clear-icon");function i(e,t){let s=e.classList;s&&("open"===t?(s.add("rounded-top-2"),s.remove("rounded-2")):(s.add("rounded-2"),s.remove("rounded-top-2")))}r.addEventListener("blur",(t=>{""===document.getElementById(e).value&&(t.relatedTarget&&t.relatedTarget.classList.contains("search-panel-ads")||l.querySelector(".auto-results-wrapper").classList.contains("auto-is-active")&&l.querySelector(".auto-results-wrapper").classList.remove("auto-is-active"),d&&!d.classList.contains("d-none")&&d.classList.add("d-none"))})),d&&d.addEventListener("click",(()=>{d.classList.add("d-none"),c.destroy()}));let c=new Autocomplete(e,{delay:350,cache:!0,classGroup:"text-cap fw-medium border-top px-2 pt-3 pb-1 mb-0",clearButton:!1,insertToInput:!1,currentAbortController:null,onSearch:({currentValue:e})=>{e=r.value,this.currentAbortController&&this.currentAbortController.abort();const t=new AbortController;this.currentAbortController=t;let s=new Promise((s=>{fetch(`/api/searchaddress?query=${e}&withEntity=false`,{signal:t.signal}).then((e=>e.json())).then((e=>{if(0!==e.length){let t=e;a.length>0&&(t=t.filter((e=>a.includes(e.group)))),s(t)}else s([])})).catch((()=>{}))}));if(d){if(""===e||0===s.length)return d.classList.contains("d-none")||d.classList.add("d-none"),[{}];d.classList.contains("d-none")&&d.classList.remove("d-none")}return s},onResults:({currentValue:e,matches:s,template:a,classGroup:r})=>0===s?a:s.map(((e,s,a)=>{let l=t&&e[n.group]!==a[s-1]?.[n.group]?`<div class="search-category-${e[n.group].toLowerCase().replace(/ /g,"-").replace("-(erc-20)","").replace("-(erc-721-&amp;-1155)","")} ${r}" style="font-size: 0.65rem;"><span>${e[n.group]}</span></div>`:"",d=e[n.chain_id]?"?chainid="+e[n.chain_id]:"";return`${l}\n                        <li class="nav-item nav-link js-address-list ${t?"mb-2":"my-2"} rounded text-start" style="cursor: pointer;" data-address="${e[n.address]}" data-chain-icon="${e[n.img]}"">\n                            <span class="d-none">${e[n.address]||e[n.name]}</span>\n                            <a href="${e[n.link]?e[n.link]:"/address/"+e[n.address]+d}" class="nav-link p-2 d-flex ${e[n.address]?"align-items-start":"align-items-center"} w-100">\n                                <div class="me-2">\n                                    <img class="rounded-pill blockie-img generic-img" src="/assets/svg/empty-token.svg" data-address="${e[n.address]}" width="22" alt="Address" />\n                                </div>\n\n                                <div class="flex-fill text-truncate">\n                                    <h6 class="d-flex align-items-center fw-normal mb-0 gap-2">\n                                        <span class="text-truncate js-address-name">${i=e[n.name],i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}</span>\n                                        ${e[n.rate]?`<span class="badge text-dark fw-medium p-1">${e[n.rate]}</span>`:""}\n                                        ${"True"===e[n.is_featured]?' <div\n                                                    class="js-tooltip badge bg-white border border-secondary border-opacity-50 text-dark rounded-pill py-1 px-2"\n                                                    data-bs-html="true"\n                                                    data-bs-title="-"\n                                                >\n                                                    <div class="d-flex align-items-center gap-1" >\n                                                        <i class="fa-regular fa-sparkles text-warning"></i>\n                                                        <span>Featured</span>\n                                                    </div>\n                                                </div >':""}\n                                        ${"True"===e[n.is_verified]&&"2"===e[n.reputation]?'<i class="fa fa-badge-check text-info ms-auto"></i>':""}\n                                        ${"True"===e[n.is_verified]&&"1"===e[n.reputation]?'<i class="far fa-badge-check text-muted ms-auto"></i>':""}\n                                    </h6>\n                                    ${e[n.address]&&""!==e[n.name]?`<span class="text-muted text-truncate small js-address-sub">${e[n.address]}</span>`:`<span class="text-dark text-truncate js-address-sub">${e[n.address]}</span>`}\n                                    ${e[n.website]?`<span class="text-muted text-truncate small">${e[n.website]}</span>`:""}\n                                </div>\n                            </a>\n                        </li>`;var i})).join(""),onSubmit:()=>{document.getElementById(e).value="",d.classList.add("d-none"),c.destroy()}});const o=document.getElementById(`auto-${e}-results`);o&&!o.title&&(o.title="Search Panel");const u=document.getElementById(e).closest(".search-panel-container").querySelector(".auto-results-wrapper"),p=document.getElementById(e);return new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting?(i(p,"open"),u.classList.add("border-top-0"),blockieImageInitialize(),genericImageErrorHandling()):(i(p,"close"),u.classList.remove("border-top-0"))}))}),{threshold:.5}).observe(u),{destroySearch:function(){d?.classList.add("d-none"),c.destroy()}}}